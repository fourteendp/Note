---
title: 设计模式 - 迭代器模式 (Iterator)
uid: 20240123112807524
aliases: []
categories: []
tags:
  - 计算机/设计模式/GoF设计模式/行为型模式
archive: false
draft: false
todo: false
createTime: 2023-05-07 22:01:31
updateTime: 2024-09-05 09:01:09
---

## 迭代器模式 (Iterator)

- 定义：提供一种方法顺序访问一个聚合对象中各个元素，而又不暴露该对象的内部表示
- 解释：迭代器模式是一种对象行为型模式，其主要优点如下：
  - 它支持以不同的方式遍历一个聚合对象，甚至可以自定义迭代器的子类以支持新的遍历
  - 迭代器简化了聚合类，聚合类不再需要暴露它的内部表示，而且可以让客户代码更简洁
  - 在同一个聚合上可以有多个遍历，因此可以同时有多个对聚合对象的访问
  - 迭代器简化了聚合类的设计，聚合类不再需要实现 createIterator() 方法，而且不需要对外暴露内部表示
  - 客户端不需要关心聚合对象的内部表示，只需要关心聚合对象是否还有下一个元素，以及如何获取下一个元素
    即可
- 优点：分离了集合对象的遍历行为；迭代器简化了聚合类；在同一个聚合上可以有多个遍历；在迭代器模式中，
  由于引入了抽象层，增加新的聚合类和迭代器类都很方便，无须修改原有代码
- 缺点：类的个数成对增加，增加了系统的复杂性；增加了系统的抽象性和理解难度
- 适用场景：访问一个聚合对象的内容而无须暴露它的内部表示；需要为聚合对象提供多种遍历方式；为遍历不同
  的聚合结构提供一个统一的接口
- 模式结构：
  - 抽象聚合（Aggregate）：定义存储、添加、删除聚合对象以及创建迭代器对象的接口
  - 具体聚合（ConcreteAggregate）：实现抽象聚合类，返回一个具体迭代器的实例
  - 抽象迭代器（Iterator）：定义访问和遍历元素的接口，声明了用于遍历数据元素的方法，例如：取得下一个
    元素、判断是否遍历结束、当前元素等
  - 具体迭代器（ConcreteIterator）：实现抽象迭代器，完成集合的迭代
  - 客户端（Client）：通过具体迭代器来遍历具体聚合
