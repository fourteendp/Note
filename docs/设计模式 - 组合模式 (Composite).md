---
title: 设计模式 - 组合模式 (Composite)
uid: 20240123112807452
aliases: []
categories: []
tags:
  - 计算机/设计模式/GoF设计模式/结构型模式
archive: false
draft: false
todo: false
createTime: 2023-05-07 22:01:31
updateTime: 2024-09-12 08:13:14
---

- 定义：将对象组合成树形结构以表示 " 部分 - 整体 " 的层次结构，组合模式使得用户对单个对象和组合对象
  的使用具有一致性
- 解释：组合模式是一种结构型设计模式，它允许你将对象组合成树形结构，并且能像使用独立对象一样使用它们
- 优点：高层模块调用简单；节点自由增加；容易增加新的容器构件和叶子构件
- 缺点：规定了所有的容器构件都必须有子节点，这样会限制容器构件的复用性
- 适用场景：希望客户可以忽略组合对象与单个对象的不同，统一地使用组合结构中的所有对象；需要表示对象的
  部分 - 整体层次结构；希望客户可以忽略组合对象与单个对象的不同，统一地使用组合结构中的所有对象
- 模式结构：
  - 抽象构件（Component）角色：为参加组合的对象声明接口，在适当的情况下，实现所有类共有接口的缺省行
    为。声明一个接口用于访问和管理 Component 的子组件
  - 树叶构件（Leaf）角色：在组合中表示叶子节点对象，叶子节点没有子节点
  - 树枝构件（Composite）角色：定义有枝节点行为，用来存储子部件，在 Component 接口中实现与子部件有关
    的操作，如增加 (add) 和删除 (remove) 等
  - 客户（Client）类：通过 Component 接口操纵组合部件的对象
