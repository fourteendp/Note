---
title: 数据结构与算法 - LRU（Least Recently Used，最近最少使用）
uid: 1723446416878
aliases: []
categories: []
tags: []
archive: false
draft: false
todo: false
createTime: 2024-08-12 15:06:56
updateTime: 2024-09-12 08:13:17
---

LRU（Least Recently Used，最近最少使用）是一种常用的缓存逐出算法，它的核心思想是：如果数据在最近一段时间内没有被访问，那么在将来它被访问的可能性也很小。基于这个思想，LRU 算法会优先淘汰那些最近最少被访问的数据项。

在实现 LRU 缓存时，通常会用到以下数据结构：

1. **哈希表（Hash Map）**：用于存储键（key）和值（value）的对应关系，支持快速查找。
2. **双向链表（Doubly Linked List）**：用于存储数据项的访问顺序，最近访问的数据放在链表头部，最老访问的数据放在链表尾部。

LRU 缓存的工作原理如下：

- 当缓存未满（即缓存中的数据项数量小于设定的最大容量）时，新访问的数据项会被添加到缓存中，同时在双向链表的头部表示最近被访问。
- 当缓存已满，且有新数据项需要加入缓存时：
  - 如果这个新数据项已经在缓存中，就将其移动到链表头部，表示最近被访问。
  - 如果这个新数据项不在缓存中，就从链表尾部移除最老的数据项（即最近最少使用的数据项），然后将新数据项添加到链表头部。
- 当需要访问缓存中的某个数据项时，先在哈希表中查找，如果找到了，就将其移动到链表头部，表示最近被访问。

LRU 缓存策略在很多场景下都非常有用，比如操作系统的页面置换、数据库的查询缓存、Web 服务器的热点数据缓存等。在 Vue 的 `<keep-alive>` 组件中，LRU 策略被用来管理组件的缓存，确保缓存中只保留最近使用的组件实例，从而优化性能和内存使用。

## 简单实现

```preview
path: /code/LRU算法.ts
```
