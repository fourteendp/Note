---
title: 命令模式 (Command)
uid: 20240123112807324
aliases: []
categories: []
tags:
  - 计算机/设计模式/GoF设计模式/行为型模式
archive: false
draft: false
todo: false
createTime: 2023-05-07 22:01:31
updateTime: 2024-08-02 13:59:23
---

- 定义：将一个请求封装为一个对象，从而使你可用不同的请求对客户进行参数化；对请求排队或记录请求日志，
  以及支持可撤销的操作
- 解释：命令模式是一种数据驱动的设计模式，它属于行为型模式。命令模式将请求发送者和请求接收者解耦，请
  求发送者无需知道请求接收者的存在，也无需知道请求的具体实现，只需知道请求的类型即可，请求接收者也无
  需知道请求发送者的存在，只需实现请求接口即可
- 优点：降低系统耦合度；容易扩展新的命令和一组命令；方便实现对请求的 Undo 和 Redo
- 缺点：可能导致某些系统有过多的具体命令类；增加系统的复杂度
- 适用场景：认为是命令的地方都可以使用命令模式；需要抽象出等待执行的行为时；需要在不同的时间指定请
  求、将请求排队时；需要支持命令的撤销（Undo）操作和恢复（Redo）操作时；需要将一组操作组合在一起，即
  支持宏命令时
- 模式结构：
  - 抽象命令类（Command）：声明了用于执行请求的 execute() 方法，通过这个方法可以调用请求接收者的相关
    操作
  - 具体命令类（Concrete Command）：是抽象命令类的子类，实现了 execute() 方法，它对应具体的接收者对
    象，将接收者对象的动作绑定其中
  - 请求者（Invoker）：要求该命令执行这个请求
  - 请求接收者（Receiver）：知道如何实施与执行一个与请求相关的操作，任何类都可能作为一个接收者
  - 客户端（Client）：创建一个具体命令对象并确定其接收者
