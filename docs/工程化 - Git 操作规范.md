---
title: 工程化 - Git 操作规范
uid: 20240123112806924
aliases: []
categories: []
tags:
  - 计算机/工程化/Git
  - 计算机/项目管理/Git
archive: false
draft: false
todo: false
createTime: 2024-01-23 19:28:06
updateTime: 2024-09-12 08:13:17
---

## 简介

规范提交和分支信息有助于代码版本的可辨性

## 提交规范

### Type

| 类型    | 类别 | 说明                               | 等级 |
| ------- | ---- | ---------------------------------- | ---- |
| feat    | Prod | 增加新功能                         | 主要 |
| fix     | Prod | 修复 bug                           | 主要 |
| perf    | Prod | 优化性能                           | 其它 |
| docs    | Dev  | 文档相关改动                       | 特殊 |
| style   | Dev  | 代码美化格式化                     | 特殊 |
| build   | Dev  | 构造工具或外部依赖的改动           | 特殊 |
| reactor | Dev  | 代码重构                           | 特殊 |
| revert  | Dev  | 执行 `git revert` 打印的 `message` | 特殊 |
| test    | Dev  | 添加修改测试用例                   | 其它 |
| ci      | Dev  | CI (持续集成服务) 有关的改的       | 其它 |
| chore   | Dev  | 其它，构建流程、以来管理辅助功能等 | 其它 |

- 当一次改动包括主要 type 与特殊 type 时，统一采用主要 type。

### Scop

- 用于描述改动的范围
- 如果一次性，改动多个模块，分多次提交

### Body

- 描述改动的情况以及修改动机

### Breadk Changes

- 突破性变更比如：
  - 版本升级
  - 接口参数修改
  - 迁移

### Affect Issues

- 指明是否影响了某个问题

## 分支管理规范

| 分支    | 说明       | 备注           |
| ------- | ---------- | -------------- |
| master  | 主分支     | 稳定本版       |
| develop | 开发分支   | 最新本版       |
| release | 发布分支   | 发布版本       |
| hotfix  | 热修复分支 | 修复线上 `Bug` |
| feature | 功能分支   | 新功能特性分   |

## 角色管理规范

| 环境 | 权限                  | 备注                                                                       |
| ---- | --------------------- | -------------------------------------------------------------------------- |
| DEV  | Team Leader,Developer | 开发环境，保持最新功能代码部署                                             |
| SIT  | SIT Tester            | SIT 测试环境，功能开发完成后部署测试                                       |
| UAT  | UAT Tester            | UAT 测试环境，系统发布前的预生产环境，需与生产环境系统配置一致             |
| PROD | Operator              | 正式生产环境，只有运维人员有操作权限，并且有相应的操作复核，日志审计等管理 |

### 标签版本管理规范

#### APP、软件的版本阶段

- Alpha 版：也叫α版，此版本主要是以实现软件功能为主，通常只在软件开发者内部交流，一般而言，该版本软
  件的 Bug 较多，需要继续修改。
- Beta 版：此版本相对于α版已经有了很大的改进，消除了严重的错误，但还是存在着一些缺陷，需要经过多次测
  试来进一步消除，此版本主要的修改对像是软件的 UI。
- RC 版：此版本已经相当成熟了，基本上不存在导致错误的 BUG，与即将发行的正式版相差无几，测试人员基本
  通过的版本。
- Release 版：此版本意味着 " 最终版本 "、" 上线版本 "，，在前面版本的一系列测试版之后，终归会有一个
  正式版本，是最终交付用户使用的一个版本。该版本有时也称为标准版。一般情况下，Release 不会以单词形式
  出现在软件封面上，取而代之的是符号 (R)。

#### 版本号的命名规范与原则

- 软件版本号有四部分组成：*<主版本号.><子版本号>.<阶段版本号>.<日期版本号加希腊字母版本号>*。希腊字
  母版本号共有 5 种：base、alpha、beta、RC、Release。例如：1.1.1.161109_beta
- 通常，完全的版本号定义，分三项：<主版本号.><子版本号>.<阶段版本号>, 1.1.0

#### 版本号修改规则

- 主版本号 (1)：当功能模块有较大的变动，比如增加多个模块或者整体架构发生变化。此版本号由项目决定是否
  修改。
- 子版本号 (1)：当功能有一定的增加或变化，比如增加了对权限控制、增加自定义视图等功能。此版本号由项目
  决定是否修改。
- 阶段版本号 (1)：一般是 Bug 修复或是一些小的变动，要经常发布修订版，时间间隔不限，修复一个严重的
  bug 即可发布一个修订版。此版本号由项目经理决定是否修改。
- 日期版本号 (161109)：用于记录修改项目的当前日期，每天对项目的修改都需要更改日期版本号。此版本号由
  开发人员决定是否修改。
- 希腊字母版本号 (beta):：此版本号用于标注当前版本的软件处于哪个开发阶段，当软件进入到另一个阶段时需
  要修改此版本号。此版本号由项目决定是否修改。
